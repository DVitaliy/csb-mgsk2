{"version":3,"sources":["api.ts","Components/card.tsx","Components/input.tsx","Components/loading.tsx","Components/notfound.tsx","pages/details.tsx","pages/listing.tsx","App.tsx","index.tsx"],"names":["getData","endpoint","cb","err","a","fetch","response","json","item","status","message","Error","String","console","error","CardList","user","login","avatar_url","useState","userRepos","setUserRepos","useEffect","storageUser","localStorage","getItem","data","JSON","parse","setItem","stringify","className","src","alt","to","CardDetail","name","email","location","bio","followers","following","created_at","CardRepo","repo","html_url","stargazers_count","forks_count","href","target","rel","Input","setvalue","path","props","timer","useRef","undefined","useLocation","getSearchValue","useCallback","decodeURIComponent","URLSearchParams","search","get","query","setQuery","clearTimeout","current","window","setTimeout","navigate","encodeURIComponent","type","value","onChange","e","Loading","NotFound","Details","uri","userDetail","setUserDetail","userRepoList","setUserRepoList","repoName","setRepoName","alert","storageRepo","items","length","placeholder","disabled","map","id","Listing","username","setUsername","listUsers","setListusers","storage","App","rootElement","document","getElementById","render"],"mappings":"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","file":"static/js/main.a2fa76f2.chunk.js","sourcesContent":["interface IErr {\r\n  message: string\r\n}\r\n\r\nexport const getData = async <T>(\r\n  endpoint: string,\r\n  cb: (args: T) => void,\r\n  err?: (args: string) => void\r\n): Promise<void> => {\r\n  try {\r\n    const response = await fetch(`https://api.github.com/${endpoint}`)\r\n    const item: T & IErr = await response.json()\r\n\r\n    switch (response.status) {\r\n      case 200:\r\n        cb(item)\r\n        break\r\n      case 403:\r\n      case 404:\r\n        const { message } = item\r\n        throw new Error(message)\r\n      default:\r\n        throw new Error(`Unknow status: ${response.status}`)\r\n    }\r\n  } catch (error) {\r\n    if (err) err(String(error))\r\n    console.error(\"getDataUserDetail\", error)\r\n  }\r\n}\r\n","import { FC, useEffect, useState } from \"react\"\r\nimport { Link } from \"@reach/router\"\r\nimport { IUserDetails, IUserRepoDetails } from \"../pages/details\"\r\nimport { getData } from \"../api\"\r\n\r\ninterface ICard {\r\n  user: IUserDetails\r\n}\r\ninterface ICardRepo {\r\n  repo: IUserRepoDetails\r\n}\r\n\r\nexport const CardList: FC<ICard> = ({ user }) => {\r\n  const { login, avatar_url } = user\r\n  const [userRepos, setUserRepos] = useState<IUserDetails[\"public_repos\"] | null>(null)\r\n\r\n  useEffect(() => {\r\n    const endpoint = `users/${login}`\r\n    try {\r\n      const storageUser = localStorage.getItem(endpoint)\r\n      if (storageUser) {\r\n        const data = JSON.parse(storageUser) as IUserDetails\r\n        setUserRepos(data[\"public_repos\"])\r\n      } else {\r\n        getData<IUserDetails>(endpoint, (item) => {\r\n          localStorage.setItem(endpoint, JSON.stringify(item))\r\n          setUserRepos(item[\"public_repos\"])\r\n        })\r\n      }\r\n    } catch {}\r\n  }, [login])\r\n\r\n  return (\r\n    <div className=\"panel-block\">\r\n      <figure className=\"image is-32x32\">\r\n        <img src={`${avatar_url}&s=32`} alt={login} />\r\n      </figure>\r\n      <Link to={`u/${login}`} className=\"is-size-5 is-flex-grow-1 ml-5\">\r\n        {login}\r\n      </Link>\r\n      <div>\r\n        Repo:{\" \"}\r\n        {userRepos ?? (\r\n          <span className=\"icon\">\r\n            <i className=\"fas fa-spinner fa-pulse\"></i>\r\n          </span>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const CardDetail: FC<ICard> = ({ user }) => {\r\n  const { name, login, avatar_url, email, location, bio, followers, following, created_at } = user\r\n  return (\r\n    <article className=\"media p-3\">\r\n      <figure className=\"media-left\">\r\n        <p className=\"image is-128x128\">\r\n          <img src={`${avatar_url}&s=128`} alt={login} />\r\n        </p>\r\n      </figure>\r\n      <div className=\"media-content\">\r\n        <div className=\"content\">\r\n          <p>\r\n            <strong>{name || login}</strong>{\" \"}\r\n            <small>\r\n              @{login} {email}\r\n            </small>\r\n            <span className=\"tag is-pulled-right\">{created_at}</span>\r\n            <br />\r\n            <small>{location}</small>\r\n            <br />\r\n            {bio}\r\n          </p>\r\n        </div>\r\n        <nav className=\"level is-mobile\">\r\n          <div className=\"level-item has-text-centered\">\r\n            <div>\r\n              <p className=\"heading\">Following</p>\r\n              <p className=\"title is-size-4\">{following}</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"level-item has-text-centered\">\r\n            <div>\r\n              <p className=\"heading\">Followers</p>\r\n              <p className=\"title is-size-4\">{followers}</p>\r\n            </div>\r\n          </div>\r\n        </nav>\r\n      </div>\r\n    </article>\r\n  )\r\n}\r\n\r\nexport const CardRepo: FC<ICardRepo> = ({ repo }) => {\r\n  const { name, html_url, stargazers_count, forks_count } = repo\r\n  return (\r\n    <div className=\"panel-block\">\r\n      <a href={html_url} className=\"is-size-5 is-flex-grow-1\" target=\"_blank\" rel=\"noreferrer\">\r\n        {name}\r\n      </a>\r\n      <div>\r\n        <div className=\"has-text-right\">{forks_count} Forks</div>\r\n        <div className=\"has-text-right\">{stargazers_count} Stars</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { FC, useState, useEffect, useRef, useCallback } from \"react\"\r\nimport { navigate, useLocation } from \"@reach/router\"\r\n\r\ninterface IInputProps extends React.InputHTMLAttributes<HTMLInputElement> {\r\n  path: string\r\n  setvalue: React.Dispatch<React.SetStateAction<string>>\r\n}\r\n\r\nconst Input: FC<IInputProps> = ({ setvalue, path, ...props }) => {\r\n  const timer = useRef<number | undefined>(undefined)\r\n  const location = useLocation()\r\n\r\n  const getSearchValue = useCallback(() => {\r\n    return location ? decodeURIComponent(new URLSearchParams(location.search).get(\"q\") ?? \"\") : \"\"\r\n  }, [location])\r\n\r\n  const [query, setQuery] = useState<string>(() => getSearchValue())\r\n\r\n  const handleChange = (e: React.SyntheticEvent) => {\r\n    const { value } = e.target as HTMLInputElement\r\n    setQuery(value)\r\n  }\r\n\r\n  useEffect(() => {\r\n    clearTimeout(timer.current)\r\n    timer.current = window.setTimeout(() => {\r\n      if (query !== getSearchValue()) navigate(`${path}?q=${encodeURIComponent(query)}`)\r\n      setvalue(query)\r\n    }, 1000)\r\n\r\n    return () => clearTimeout(timer.current)\r\n  }, [query, path, setvalue, getSearchValue])\r\n\r\n  // need for history back\r\n  useEffect(() => {\r\n    setQuery(getSearchValue())\r\n  }, [getSearchValue])\r\n\r\n  return (\r\n    <div className=\"panel-block\">\r\n      <p className=\"control has-icons-left\">\r\n        <input className=\"input\" type=\"text\" value={query ?? \"\"} onChange={handleChange} {...props} />\r\n        <span className=\"icon is-left\">\r\n          <i className=\"fas fa-search\" aria-hidden=\"true\"></i>\r\n        </span>\r\n      </p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Input\r\n","import { FC } from \"react\"\r\n\r\nexport const Loading: FC = () => {\r\n  return (\r\n    <div className=\"panel-block\">\r\n      <h2 className=\"is-5 has-text-link is-capitalized\">Loading..</h2>\r\n    </div>\r\n  )\r\n}\r\n","import { FC } from \"react\"\r\n\r\nexport const NotFound: FC = () => {\r\n  return (\r\n    <div className=\"panel-block\">\r\n      <h2 className=\"is-5 has-text-grey-lighter is-capitalized\">not found</h2>\r\n    </div>\r\n  )\r\n}\r\n","import { RouteComponentProps } from \"@reach/router\"\r\nimport { FC, Fragment, useEffect, useState } from \"react\"\r\nimport { CardDetail, CardRepo } from \"../Components/card\"\r\nimport Input from \"../Components/input\"\r\nimport { Loading } from \"../Components/loading\"\r\nimport { NotFound } from \"../Components/notfound\"\r\nimport { getData } from \"../api\"\r\n\r\nexport interface IUserDetails {\r\n  id: string\r\n  login: string\r\n  avatar_url: string\r\n  name: string | null\r\n  email: string | null\r\n  location: string\r\n  created_at: string\r\n  bio: string | null\r\n  followers: number\r\n  following: number\r\n  public_repos: number\r\n}\r\nexport interface IUserRepoDetails {\r\n  id: string\r\n  name: string\r\n  html_url: string\r\n  stargazers_count: number\r\n  forks_count: number\r\n}\r\n\r\ninterface IDetailsProps extends RouteComponentProps {\r\n  login?: string\r\n}\r\n\r\nconst Details: FC<IDetailsProps> = ({ login, uri, location }) => {\r\n  const [userDetail, setUserDetail] = useState<IUserDetails | null>(null)\r\n  const [userRepoList, setUserRepoList] = useState<IUserRepoDetails[] | null>(null)\r\n  const [repoName, setRepoName] = useState<string>(() => {\r\n    return location ? decodeURIComponent(new URLSearchParams(location.search).get(\"q\") ?? \"\") : \"\"\r\n  })\r\n\r\n  // Get user data\r\n  useEffect(() => {\r\n    const endpoint = `users/${login}`\r\n    try {\r\n      const storageUser = localStorage.getItem(endpoint)\r\n      if (storageUser) setUserDetail(JSON.parse(storageUser))\r\n      else {\r\n        getData<IUserDetails>(\r\n          endpoint,\r\n          (item) => {\r\n            localStorage.setItem(endpoint, JSON.stringify(item))\r\n            setUserDetail(item)\r\n          },\r\n          (err) => {\r\n            alert(err)\r\n          }\r\n        )\r\n      }\r\n    } catch {}\r\n  }, [login])\r\n\r\n  // Get user's repo data\r\n  useEffect(() => {\r\n    if (userDetail) {\r\n      const endpoint = encodeURIComponent(`${repoName} user:${login}`)\r\n      try {\r\n        const storageRepo = localStorage.getItem(endpoint)\r\n        if (storageRepo) {\r\n          const items = JSON.parse(storageRepo) as IUserRepoDetails[]\r\n          setUserRepoList(items.length ? items : null)\r\n        } else {\r\n          getData<{ items: IUserRepoDetails[] }>(\r\n            `search/repositories?q=${endpoint}`,\r\n            (data) => {\r\n              const items = data.items as IUserRepoDetails[]\r\n              localStorage.setItem(endpoint, JSON.stringify(items))\r\n              setUserRepoList(items.length ? items : null)\r\n            },\r\n            (err) => {\r\n              alert(err)\r\n            }\r\n          )\r\n        }\r\n      } catch {}\r\n    }\r\n  }, [login, userDetail, repoName])\r\n\r\n  return (\r\n    <Fragment>\r\n      {userDetail ? <CardDetail user={userDetail} /> : <Loading />}\r\n      <Input\r\n        placeholder=\"Search for User's Repositories\"\r\n        path={uri ?? `/u/${login}`}\r\n        setvalue={setRepoName}\r\n        disabled={!userDetail}\r\n      />\r\n      {userRepoList && userRepoList.map((repo) => <CardRepo key={repo.id} repo={repo} />)}\r\n\r\n      {userDetail && repoName && userRepoList === null && <NotFound />}\r\n    </Fragment>\r\n  )\r\n}\r\nexport default Details\r\n","import { RouteComponentProps } from \"@reach/router\"\r\nimport { FC, Fragment, useEffect, useState } from \"react\"\r\nimport { CardList } from \"../Components/card\"\r\nimport Input from \"../Components/input\"\r\nimport { NotFound } from \"../Components/notfound\"\r\nimport { IUserDetails } from \"./details\"\r\nimport { getData } from \"../api\"\r\n\r\nconst Listing: FC<RouteComponentProps> = ({ uri, location }) => {\r\n  const [username, setUsername] = useState<string>(() => {\r\n    return location ? decodeURIComponent(new URLSearchParams(location.search).get(\"q\") ?? \"\") : \"\"\r\n  })\r\n  const [listUsers, setListusers] = useState<IUserDetails[] | null>([])\r\n\r\n  useEffect(() => {\r\n    if (username) {\r\n      const endpoint = `q=${username}`\r\n      try {\r\n        const storage = localStorage.getItem(endpoint)\r\n        if (storage) {\r\n          const items = JSON.parse(storage) as IUserDetails[]\r\n          setListusers(items.length ? items : null)\r\n        } else {\r\n          getData<{ items: IUserDetails[] }>(\r\n            `search/users?${endpoint}`,\r\n            (data) => {\r\n              const items = data.items as IUserDetails[]\r\n              localStorage.setItem(endpoint, JSON.stringify(items))\r\n              setListusers(items.length ? items : null)\r\n            },\r\n            (err) => {\r\n              alert(err)\r\n            }\r\n          )\r\n        }\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n    } else {\r\n      setListusers([])\r\n    }\r\n  }, [username])\r\n\r\n  return (\r\n    <Fragment>\r\n      <Input placeholder=\"Search for Users\" path={uri ?? \"/\"} setvalue={setUsername} />\r\n\r\n      {listUsers && listUsers.map((user) => <CardList key={user.id} user={user} />)}\r\n\r\n      {username && listUsers === null && <NotFound />}\r\n    </Fragment>\r\n  )\r\n}\r\nexport default Listing\r\n","import { Router, Link } from \"@reach/router\"\nimport Details from \"./pages/details\"\nimport Listing from \"./pages/listing\"\n\nexport default function App() {\n  return (\n    <article className=\"panel\">\n      <p className=\"panel-heading\">\n        <Link to=\"/\">GitHub searcher</Link>\n      </p>\n      <Router>\n        <Listing path=\"/\" />\n        <Details path=\"/u/:login\" />\n      </Router>\n      <div className=\"panel-block is-pulled-right\">\n        <Link to=\"/u/dvitaliy\" className=\"has-text-grey-lighter is-pulled-right\">\n          @DVitaliy\n        </Link>\n      </div>\n    </article>\n  )\n}\n","import { render } from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nrender(<App />, rootElement);\n"],"sourceRoot":""}